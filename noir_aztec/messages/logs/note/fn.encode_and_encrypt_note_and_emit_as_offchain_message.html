<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="../../../../styles.css">
<title>Function encode_and_encrypt_note_and_emit_as_offchain_message documentation</title>
</head>
<body>
<nav class="sidebar">
<h1><a href="../../../../index.html">aztec-nr</a></h1><div><a href="../../../../all.html">All items</a></div>
<h2>In module note</h2><h3>Functions</h3><ul class="item-list"><li><a href="fn.compute_note_log.html" class="fn">compute_note_log</a></div></li>
<li><a href="fn.compute_partial_note_log.html" class="fn">compute_partial_note_log</a></div></li>
<li><a href="fn.encode_and_encrypt_note.html" class="fn">encode_and_encrypt_note</a></div></li>
<li><a href="fn.encode_and_encrypt_note_and_emit_as_offchain_message.html" class="fn">encode_and_encrypt_note_and_emit_as_offchain_message</a></div></li>
<li><a href="fn.encode_and_encrypt_note_unconstrained.html" class="fn">encode_and_encrypt_note_unconstrained</a></div></li>
</ul></nav>
<main>
<div><a href="../../../../index.html">aztec-nr</a> - <a href="../../../index.html">noir_aztec</a>::<a href="../../index.html">messages</a>::<a href="../index.html">logs</a>::<a href="index.html">note</a></div><h1>Function <span class="fn">encode_and_encrypt_note_and_emit_as_offchain_message</span></h1><pre><code>pub fn encode_and_encrypt_note_and_emit_as_offchain_message&lt;Note&gt;(context: &mut <a href="../../../../noir_aztec/context/private_context/struct.PrivateContext.html" class="struct">PrivateContext</a>, recipient: <a href="../../../../protocol_types/address/aztec_address/struct.AztecAddress.html" class="struct">AztecAddress</a>) -> fn[(&mut <a href="../../../../noir_aztec/context/private_context/struct.PrivateContext.html" class="struct">PrivateContext</a>, <a href="../../../../protocol_types/address/aztec_address/struct.AztecAddress.html" class="struct">AztecAddress</a>)](<a href="../../../../noir_aztec/note/note_emission/struct.NoteEmission.html" class="struct">NoteEmission</a>&lt;Note&gt;)
where
    Note: <a href="../../../../noir_aztec/note/note_interface/trait.NoteType.html" class="trait">NoteType</a>,
    Note: <a href="../../../../protocol_types/traits/trait.Packable.html" class="trait">Packable</a>&lt;N = &lt;Note as Packable&gt;::N&gt;</code></pre>

<div class="comments">
<p>Same as <code>encode_and_encrypt_note_unconstrained</code>, except the note is emitted as an offchain message instead of a
private log.</p>
<p>Like <code>encode_and_encrypt_note_unconstrained</code>, this function uses unconstrained encryption. The sender can set any
message contents, potentially preventing recipient decryption and resulting in note loss. Since offchain messages
inherently lack delivery guarantees, constrained encryption provides no benefit and is not offered.</p>
<p>While delivery is not guaranteed, message integrity is still protected via cryptographic commitments in the note
hash tree. For guaranteed delivery, use <code>encode_and_encrypt_note</code> with private logs instead. See
<code>messages::offchain_message::emit_offchain_message</code> for more details on delivery guarantees.</p>
</div>
</main>
</body>
</html>
