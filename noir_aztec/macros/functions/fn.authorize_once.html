<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="../../../styles.css">
<title>Function authorize_once documentation</title>
</head>
<body>
<nav class="sidebar">
<h1><a href="../../../index.html">aztec-nr</a></h1>
<div><a href="../../../all.html">All items</a></div>
<h2 id="crate-name"><a href="../../index.html">noir_aztec</a></h2>
<div id="crate-version">0.0.0</div>
<h2>In module functions</h2>
<h3>Modules</h3><ul class="item-list">
<li><a href="initialization_utils/index.html">initialization_utils</a></div></li>
</ul>
<h3>Functions</h3><ul class="item-list">
<li><a href="fn.authorize_once.html">authorize_once</a></div></li>
<li><a href="fn.initializer.html">initializer</a></div></li>
<li><a href="fn.internal.html">internal</a></div></li>
<li><a href="fn.noinitcheck.html">noinitcheck</a></div></li>
<li><a href="fn.private.html">private</a></div></li>
<li><a href="fn.public.html">public</a></div></li>
<li><a href="fn.utility.html">utility</a></div></li>
<li><a href="fn.view.html">view</a></div></li>
</ul>
</nav>
<main>
<div><a href="../../../index.html">aztec-nr</a> - <a href="../../index.html">noir_aztec</a>::<a href="../index.html">macros</a>::<a href="index.html">functions</a></div>
<h1>Function <span class="fn">authorize_once</span></h1>
<pre><code>pub comptime fn authorize_once(
    f: <a href="../../../std/primitive.FunctionDefinition.html" class="primitive">FunctionDefinition</a>,
    from_arg_name: <a href="../../../std/primitive.CtString.html" class="primitive">CtString</a>,
    nonce_arg_name: <a href="../../../std/primitive.CtString.html" class="primitive">CtString</a>,
)</code></pre>

<div class="comments">
<p>Private and public functions can require an authorization check to be performed before execution. This
is typically the case when the function allows performing an action on behalf of someone who is not
the caller.
This macro injects the necessary code to perform the check via the authwit mechanism and additionally
emit the authorization request as an offchain effect, so a user/wallet can verify what are they
being asked to sign.
This check also emits a nullifier with the provided nonce argument, so authorizations are valid
once and only once, preventing replay attacks.</p>
</div>
</main>
</body>
</html>
